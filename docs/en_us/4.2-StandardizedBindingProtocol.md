# Standardized High-Level Language Object-Oriented Binding

Binding can be divided into two steps:

1. Standardized OOP encapsulation of the C API. Since the MaaFW interface is relatively stable, this step does not require long-term maintenance once completed.
2. Based on step 1, parse parameters such as callback messages, detail JSON, and pipeline_override, and encapsulate them into different functions and structures. These fields may change with MaaFW updates and require ongoing updates to match new MaaFW versions.

If you wish to add language binding for MaaFW, you can choose either method based on your available time and resources.

## Standardized Interface

1. MaaTasker, MaaResource, and MaaController should be wrapped as objects rather than procedural interfaces. For example, interfaces like MaaContextGetTasker should return objects instead of handles. Consider two models:
    1. Add a global handle-to-object reference dictionary, returning the original object via the handle.
    2. Stateless objects that only reference the handle, creating a new object directly (refer to the `own` field in the Python binding).
2. Asynchronous action IDs such as MaaTaskId, MaaCtrlId, and MaaResId should not be exposed to the integrator. Instead, encapsulate them into a Job class, providing methods like wait, status, get, etc.
3. The Job class should provide encapsulations for all methods that can be operated on by the ID, e.g., the get method of TaskJob should return encapsulated data queried by MaaTaskerGetTaskDetail.
4. Query IDs like MaaRecoId and MaaNodeId should not be exposed to the integrator. Instead, the binding should call interfaces like MaaTaskerGetRecoDetail and return encapsulated structures like RecoDetail and NodeDetail.
5. CustomAction, CustomRecognizer, and NotificationCallback should be wrapped with an agent, preferably an abstract base class. The actual object passed to MaaFW is a pointer within the agent, which converts parameters to types commonly used in the language before passing them to the integrator.
6. Each enum in SetOption should be split into independent interfaces, such as set_screenshot_target_long_side, without exposing the specific enums to the integrator.
7. Buffer types like StringBuffer and ImageBuffer should not be exposed to the integrator. These need to be converted to the language's standard string and image types before being returned.
8. Interfaces like BindResource, BindController, and RegisterCustom should retain a reference to avoid garbage collection.
9. The Find series of interfaces in MaaToolkit should directly return encapsulated arrays of structures.
10. A sample should be provided, demonstrating no fewer than the interfaces shown in the Python sample.

## Additional Parsing and Encapsulation

TODO...
